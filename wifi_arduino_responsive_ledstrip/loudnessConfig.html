<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jscolor/2.4.0/jscolor.min.js"></script>
  </head>
  <body
    style="background-color: #575151; font-family: Helvetica, sans-serif"
    onload="initP()"
  >
    <h1>Odabir boja prikaza vizualizacije zvuka</h1>
    <h4 style="margin-bottom: 2px">
      Odaberi boju za prikaz vizualizacije zvuka:
    </h4>
    <input data-jscolor="{preset: 'dark'}" id="p1" /> <br />
    <h4 style="margin-bottom: 2px">Odaberi ka≈°njenje u milisekundama:</h4>
    <input type="number" id="delay" name="quantity" min="0" max="999999" />
    <br />
    <br />
    <button
      onclick="pOut();"
      style="
        font-weight: bold;
        font-size: 15px;
        background-color: #4caf50;
        color: white;
        border: none;
        text-align: center;
        padding: 6px 12px;
      "
    >
      Spremi odabir
    </button>
    <script>
      function initP() {
        document.querySelector("#p1").jscolor.fromString("#575151");
      }
      function pOut() {
        message = "rgb1=";
        message +=
          "r" + Math.round(document.querySelector("#p1").jscolor.channel("R"));
        message +=
          "g" + Math.round(document.querySelector("#p1").jscolor.channel("G"));
        message +=
          "b" +
          Math.round(document.querySelector("#p1").jscolor.channel("B")) +
          ";";
        message += "&delay=" + document.getElementById("delay").value;
        window.location.href =
          window.location.href.substring(0, window.location.href.length - 14) +
          "loudnessSave?" +
          message;
      }
    </script>
  </body>
</html>
